# --- SMART DATABASE CONFIGURATION ---
# Logic: If 'DB_URL' exists (Cloud), use it. Otherwise, use H2 (Local).
spring.datasource.url=${DB_URL:jdbc:h2:mem:gradecalc_db}
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:password}

# Driver Logic: Switch automatically based on the URL
spring.datasource.driverClassName=org.postgresql.Driver
# (If running locally on H2, Spring Boot is smart enough to fallback to H2 driver automatically if Postgres fails, 
# but strictly speaking, let's keep it generic or rely on Spring's auto-config. 
# For safety in this specific dual-setup, we can let Spring handle the driver detection.)

# --- Hibernate Settings ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.defer-datasource-initialization=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
