# --- SMART DATABASE CONFIGURATION ---

# 1. Database URL
# Logic: If the cloud provides a 'DB_URL', use it. Otherwise, use local file storage.
spring.datasource.url=${DB_URL:jdbc:h2:file:./data/gradecalc_db}

# 2. Username & Password
spring.datasource.username=${DB_USERNAME:sa}
spring.datasource.password=${DB_PASSWORD:password}

# 3. Driver & Platform (Switches automatically)
# If we are on the cloud, these will be overridden by environment variables
spring.datasource.driverClassName=${DB_DRIVER:org.h2.Driver}
spring.jpa.database-platform=${DB_PLATFORM:org.hibernate.dialect.H2Dialect}

# --- Hibernate Settings ---
spring.jpa.hibernate.ddl-auto=update
spring.jpa.defer-datasource-initialization=true
spring.h2.console.enabled=true
